{% extends "base.html" %}
{% block title %} Verify OTP | Nebula-Nexus {% endblock %}
{% block styles %} 
<!-- Shared Styles -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=error" />
<link rel="stylesheet" href="{{ url_for('static', path='/css/global.css') }}">
<link rel="stylesheet" href="{{ url_for('static', path='/css/constellation.css') }}">
<link rel="stylesheet" href="{{ url_for('static', path='/css/verify-otp.css') }}">
{% endblock %}

{% block content %}
<!-- Background -->
<div id="stars-container"></div>
<canvas id="constellation-canvas"></canvas>

<!-- Main Content -->
<main class="main-content">
    <div class="otp-container">
        <h2>Verify Access</h2>
        <p>Enter the 6-digit code sent to your cosmic address</p>

        <form action="/auth/verify-otp" method="post" id="otpForm">
            <div class="otp-inputs">
                <input type="number" class="otp-input" maxlength="1" name="otp1" id="otp1" required>
                <input type="number" class="otp-input" maxlength="1" name="otp2" id="otp2" required>
                <input type="number" class="otp-input" maxlength="1" name="otp3" id="otp3" required>
                <input type="number" class="otp-input" maxlength="1" name="otp4" id="otp4" required>
                <input type="number" class="otp-input" maxlength="1" name="otp5" id="otp5" required>
                <input type="number" class="otp-input" maxlength="1" name="otp6" id="otp6" required>
            </div>

            {% if error %}
            <div class="error-div">
                <p class="error-message">
                    <span class="material-symbols-outlined">error</span>
                    {{ error }}
                </p>
            </div>
            {% endif %}

            <input type="text" style="display: none;" name="otp" id="otpValue">
            <button type="submit" class="verify-btn">Verify Code</button>
        </form>

        <div class="resend-section">
            Didn't receive the code? <p>&xrarr;</p><a href="#" class="resend-link" onclick="resendOTP(event)">Resend</a>
        </div>
    </div>
</main>
{% endblock %}



{% block scripts %} 
<!-- Scripts -->
<script src="{{ url_for('static', path='/js/constellation.js') }}"></script>
<script src="{{ url_for('static', path='/js/verify-otp.js') }}"></script>
{% endblock %}